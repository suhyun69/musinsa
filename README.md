# [MUSINSA] Java(Kotlin) Backend Engineer - 과제

## 실행방법

1. gradlew build
2. cd build/libs
3. java -jar parksuhyun-0.0.1.SNAMPSHOT.jar

## Swagger 주소
> http://localhost:8080/swagger-ui/index.html

## 사전 정의


## 구현내용
### 구현 1) - 카테고리 별 최저가격 브랜드와 상품 가격, 총액을 조회하는 API
+ 구현방법 :
    + 카테고리별로, 최저가를 가진 상품들을 조회하여 리스트로 만들어 총액과 함께 전달한다
+ 예제 :
```
curl -X 'GET' \
  'http://localhost:8080/search/api/lowestPriceBrandByCategory' \
  -H 'accept: application/json;charset=UTF-8'
```
```
{
  "상품목록": [
    {
      "카테고리": "상의",
      "브랜드": "C",
      "가격": "10,000"
    },
    {
      "카테고리": "아우터",
      "브랜드": "E",
      "가격": "5,000"
    },
    {
      "카테고리": "바지",
      "브랜드": "D",
      "가격": "3,000"
    },
    {
      "카테고리": "스니커즈",
      "브랜드": "A",
      "가격": "9,000"
    },
    {
      "카테고리": "가방",
      "브랜드": "A",
      "가격": "2,000"
    },
    {
      "카테고리": "모자",
      "브랜드": "D",
      "가격": "1,500"
    },
    {
      "카테고리": "양말",
      "브랜드": "I",
      "가격": "1,700"
    },
    {
      "카테고리": "액세서리",
      "브랜드": "F",
      "가격": "1,900"
    }
  ],
  "총액": "34,100"
}
```
### 구현 2) - 단일 브랜드로 모든 카테고리 상품을 구매할 때 최저가격에 판매하는 브랜드와 카테고리의 상품가격, 총액을 조회하는 API
+ 구현방법 :
    + '모든 카테고리 상품을 구매'가 목적이므로, 8개 카테고리 상품 모두를 가지고 있는 브랜드를 조회한다
      + 신규 브랜드 추가 및 상품 삭제 등으로 인해 카테고리별로 상품이 하나라도 없다면 제외한다
    + 앞서 조회한 브랜드에 대해서, 카테고리 별로 최저가 상품을 조회, 합산 및 비교하여 최저가 브랜드에 해당하는 상품을 리스트로 만들어 총액과 함께 전달한다
      + 임의의 브랜드 및 카테고리에 등록된 상품이 여러 개일 경우, 최저가 상품을 계산에 포함한다
+ 예제 :
```
curl -X 'GET' \
  'http://localhost:8080/search/api/lowestPriceBrand' \
  -H 'accept: application/json;charset=UTF-8'
```
```
{
  "최저가": {
    "브랜드": "D",
    "카테고리": [
      {
        "카테고리": "상의",
        "가격": "10,100"
      },
      {
        "카테고리": "아우터",
        "가격": "5,100"
      },
      {
        "카테고리": "바지",
        "가격": "3,000"
      },
      {
        "카테고리": "스니커즈",
        "가격": "9,500"
      },
      {
        "카테고리": "가방",
        "가격": "2,500"
      },
      {
        "카테고리": "모자",
        "가격": "1,500"
      },
      {
        "카테고리": "양말",
        "가격": "2,400"
      },
      {
        "카테고리": "액세서리",
        "가격": "2,000"
      }
    ],
    "총액": "36,100"
  }
}
```
### 구현 3) - 카테고리 이름으로 최저, 최고 가격 브랜드와 상품 가격을 조회하는 API
+ 구현방법 :
    + Request에 명시된 카테고리에 해당하는 상품들 중 최저/최고 가격의 상품을 각각 조회하여, 브랜드 이름과 함께 Response로 전달한다.
+ 예제
```
curl -X 'GET' \
  'http://localhost:8080/search/api/brandByCategory?categoryType=%EC%83%81%EC%9D%98' \
  -H 'accept: application/json;charset=UTF-8'
```
```
{
  "카테고리": "상의",
  "최저가": [
    {
      "브랜드": "C",
      "가격": "10,000"
    }
  ],
  "최고가": [
    {
      "브랜드": "I",
      "가격": "11,400"
    }
  ]
}
```
### 구현 4) 브랜드 및 상품을 추가/업데이트 /삭제하는 API
+ 구현방법 :
    + RESTful API 방식으로, BrandController와 ItemController에서 각각 브랜드 및 상품을 조회/추가/업데이트/삭제한다
+ 예제
  + BrandController
    + GET /api/brand ```개별 브랜드 조회```
    + POST /api/brand ```브랜드 등록```
    + PUT /api/brand ```브랜드 수정```
    + DELETE /api/brand ```브랜드 삭제```
    + GET /api/brands ```전체 브랜드 조회```
  + ItemController
    + GET /api/item ```개별 상품 조회```
    + POST /api/item ```상품 등록```
    + PUT /api/item ```상품 수정```
    + DELETE /api/item ```상품 삭제```
    + GET /api/item ```전체 상품 조회```